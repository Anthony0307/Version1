<div>
  <h2>Registro de Usuario</h2>
  <form [formGroup]="registroForm" (ngSubmit)="registrarUsuario()">
    <!-- Campos comunes del formulario... -->
    <label for="nombres">Nombres </label>
    <input type="text" id="nombres" formControlName="nombres">
    <label for="apellidos">Apellidos </label>
    <input type="text" id="apellidos" formControlName="apellidos">
    <label for="telefono">Telefono </label>
    <input type="text" id="telefono" formControlName="telefono">
    <label for="correo">Correo </label>
    <input type="email" id="correo" formControlName="correo">
    <label for="contraseña">Contraseña </label>
    <input type="password" id="contraseña" formControlName="contraseña"> <!-- Corregido el formControlName -->

    <div>
      <label for="tipoUsuario">Tipo de Usuario:</label>
      <select id="tipoUsuario" formControlName="tipoUsuario">
        <option value="paciente">Paciente</option>
        <option value="medico">Médico</option>
      </select>
    </div>

    <!-- Campos específicos de médico -->
    <div *ngIf="registroForm.get('tipoUsuario')?.value === 'medico'">
      <label for="especialidad">Especialidad:</label>
      <input type="text" id="especialidad" formControlName="especialidad">
    </div>

    <!-- Campos específicos de paciente -->
    <div *ngIf="registroForm.get('tipoUsuario')?.value === 'paciente'">
      <label for="fechaNacimiento">Fecha de Nacimiento:</label>
      <input type="date" id="fechaNacimiento" formControlName="fechaNacimiento">
      <label for="genero">Genero:</label>
      <select id="genero" formControlName="genero">
        <option value="F">Femenino</option>
        <option value="M">Masculino</option>
      </select>
      <label for="direccion">Direccion:</label>
      <input type="text" id="direccion" formControlName="direccion">
      <label for="enfermedadesCronicas">Enfermedades Cronicas:</label>
      <input type="text" id="enfermedadesCronicas" formControlName="enfermedadesCronicas">
      <label for="alergias">Alergias:</label>
      <input type="text" id="alergias" formControlName="alergias">
    </div>

    <div>
      <button type="submit" [disabled]="!registroForm.valid">Registrar</button>
      <div *ngIf="registroExitoso">
        <p>Registro exitoso. Redirigiendo...</p>
      </div>
    </div>
  </form>
</div>
